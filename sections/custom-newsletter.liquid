{{ 'custom-newsletter.css' | asset_url | stylesheet_tag }}
{% assign section_main_class = "custom-newsletter" %}

{% style %}
  
  #section-{{section.id}} {
    background-image: url({{section.settings.bg_image | image_url: width: 2000 }});
    background-size: cover;
  }

  #section-{{ section.id }} .custom-newsletter-title,
  #section-{{ section.id }} .custom-newsletter-content * {
    color: {{ section.settings.text_color }};
  }
      
  @media only screen and (max-width:767px) {
      
    #section-{{section.id}} {
      background-image: url({{section.settings.mobile_bg_image | image_url: width: 1000 }});
      background-size: cover;
    }
        
  }
      
{% endstyle %}

<section class="custom-newsletter-section {{ section_main_class }} {% if template == "blog" %}stay-informed-for-blog{% endif %}" id="section-{{ section.id }}">
  <div class="container">
    <div class="custom-newsletter-main">
      {%- if section.settings.heading != blank -%}
        <h2 class="custom-newsletter-title">{{ section.settings.heading }}</h2>
      {%- endif -%}
  
      {%- if section.settings.content != blank -%}
        <div class="custom-newsletter-content">
          {{ section.settings.content }}
        </div>
      {%- endif -%}
      {% render 'newsletter' %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Custom Newsletter",
  "settings": [
    {
      "type": "image_picker",
      "id": "bg_image",
      "label": "Background Image"
    },
    {
      "type": "image_picker",
      "id": "mobile_bg_image",
      "label": "mobile Background Image"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Stay Informed"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Conent",
      "default": "<p>Your guide to better health â€” sent weekly. Sign up to save 10% on your first order.</p>"
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "Custom Newsletter",
      "category": "Image"
    }
  ]
}
{% endschema %}