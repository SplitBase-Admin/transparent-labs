<div class="container mx-auto my-8 px-4 text-blue-500">
  <div class="hidden md:block">
    {%- if section.settings.desktop_image -%}
      {% render 'old-lazy-image',
        image: section.settings.desktop_image,
        width: 2048,
      %}
    {%- endif -%}
  </div>

  <div class="md:hidden">
    {%- if section.settings.mobile_image -%}
      {% render 'old-lazy-image',
        image: section.settings.mobile_image,
        width: 768,
      %}
    {%- endif -%}
  </div>

  <h1 class="mt-8 text-center text-xl md:text-2xl lg:text-3xl">{{ page.title }}</h1>

  <div class="gap-8 grid grid-cols-1 md:grid-cols-2">
    {%- for block in section.blocks -%}
      <div class="text-center">
        {%- if block.settings.image -%}
          <div class="mx-auto w-48">
            {% render 'old-lazy-image',
              image: block.settings.image,
              width: 200,
            %}
          </div>
        {%- endif %}

        <h2 class="mb-8 text-lg sm:text-xl">
          {{ block.settings.title }}
        </h2>

        <div class="mb-8 space-y-4">
          {{ block.settings.content }}
        </div>

        <a class="button-legacy block mx-auto" href="{{ block.settings.button_url }}" style="color: rgb(19 40 54 / var(--tw-text-opacity));">
          {{ block.settings.button_text }}
        </a>
      </div>
    {%- endfor -%}
  </div>
</div>

{% schema %}
{
  "blocks": [
	  {
      "name": "Content",
      "settings": [
        {
          "id": "title",
          "label": "Heading",
          "type": "text"
        },
        {
          "id": "image",
          "label": "Image",
          "type": "image_picker"
        },
        {
          "id": "content",
          "label": "Content",
          "type": "richtext"
        },
        {
          "id": "button_text",
          "label": "Button Text",
          "type": "text"
        },
        {
          "id": "button_url",
          "label": "Button URL",
          "type": "url"
        }
      ],
      "type": "content"
    }
  ],
  "name": "Affiliates Page",
  "class": "td-legacy",
  "settings": [
	  {
      "id": "desktop_image",
      "label": "Desktop Image",
      "type": "image_picker"
    },
    {
      "id": "mobile_image",
      "label": "Mobile Image",
      "type": "image_picker"
    }
  ]
}
{% endschema %}
