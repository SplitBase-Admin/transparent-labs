
  {%- capture slider_options -%}
    {
      "slidesPerView": 1.3,
      "spaceBetween": 10,
      "loop": true,
      "breakpoints": {
        "1024": {
          "slidesPerView": 4,
          "spaceBetween": 10
        },
        "768": {
          "slidesPerView": 2.3,
          "spaceBetween": 10
        },
      }
    }  
  {%- endcapture -%}
<div class="xt-story-gallery">

  
  <div class="container">
    <swiper-slider
      data-swiper-options='{{ slider_options }}'
      class="swiper-slider-container"
    >
      <div class="swiper" data-swiper>
        <div class="swiper-wrapper gallery_slider">
          {% for block in section.blocks %}
          <div class="item swiper-slide"  data-swiper-slide>
            <div class="img">
              {% assign image_name = block.settings.image | split: '/' | last | split: '.' | first | replace: '/', ' ' | replace: '-', ' ' | replace: '_', ' ' %}
              <img src="{{ block.settings.image | img_url : 'master' }}" alt="{% if block.settings.image.alt %}{{ block.settings.image.alt }}{% else %}{{ image_name }}{% endif %}" loading="lazy" >
              <div class="circle">
                <img src="{{ block.settings.icon_image | img_url : 'master'}}" alt="{% if block.settings.icon_image.alt %}{{ block.settings.icon_image.alt }}{% else %}Xgen Icon{% endif %}" loading="lazy"/>
              </div>
            </div>
            <div class="info">
              {% if block.settings.heading!=blank %}
                <h3>{{ block.settings.heading }}</h3>
              {% endif %}

              {% if block.settings.subheading!=blank %}
                <p>{{ block.settings.subheading }}</p>
              {% endif %}
            </div>
          </div>
        {% endfor %}
        </div>
      </div>
    </swiper-slider>
  </div>
</div>



{% comment %} <script>
  $(".gallery_slider").slick({
    dots: false,
    infinite: false,
    slidesToShow: 4,
    slidesToScroll: 1,
    arrows:false,
    prevArrow:"<button class='slick-prev slick-arrow' aria-label='Previous' type='button'><img src='https://cdn.shopify.com/s/files/1/0866/7664/files/chevron_right.png?v=1660762411'></button>",
    nextArrow:"<button class='slick-next slick-arrow' aria-label='Previous' type='button'><img src='https://cdn.shopify.com/s/files/1/0866/7664/files/chevron_right.png?v=1660762411'></button>",
    responsive:[
      {
            breakpoint: 1366,
            settings: {
                slidesToShow: 3
            }
        },
        {
            breakpoint: 1023,
            settings: {
                slidesToShow: 2
            }
        },
        {
            breakpoint: 767,
            settings: {
                slidesToShow: 1,
                arrows:false,
                centerMode:true,
                centerPadding:'40px'
            }
        }
    ]
  });
</script> {% endcomment %}



{% schema %}
  {
    "name": "Our Story Gallery",
    "class": "td-legacy",
    "settings": [],
    "blocks":[
      {
        "name":"Block",
        "type":"image",
        "settings":[
          {
            "type":"image_picker",
            "id":"image",
            "label":"Choose Image"
          },
          {
            "type":"image_picker",
            "id":"icon_image",
            "label":"Choose Icon Image"
          },
          {
            "type":"text",
            "id":"heading",
            "label":"Heading"
          },
          {
            "type":"textarea",
            "id":"subheading",
            "label":"Description"
          }
        ]
      }
    ],
    "presets":[
      {
        "name": "Our Story Gallery"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %} 