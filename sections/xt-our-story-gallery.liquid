<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>

<div class="xt-story-gallery">
  <div class="container">
    <div class="gallery_slider">
      {% for block in section.blocks %}
        <div class="item">
          <div class="img">
            {% assign image_name = block.settings.image | split: '/' | last | split: '.' | first | replace: '/', ' ' | replace: '-', ' ' | replace: '_', ' ' %}
            <img src="{{ block.settings.image | img_url : 'master' }}" alt="{% if block.settings.image.alt %}{{ block.settings.image.alt }}{% else %}{{ image_name }}{% endif %}" loading="lazy" >
             <div class="circle">
              <img src="{{ block.settings.icon_image | img_url : 'master'}}" alt="{% if block.settings.icon_image.alt %}{{ block.settings.icon_image.alt }}{% else %}Xgen Icon{% endif %}" loading="lazy"/>
            </div>
          </div>
          <div class="info">
            {% if block.settings.heading!=blank %}
              <h3>{{ block.settings.heading }}</h3>
            {% endif %}

            {% if block.settings.subheading!=blank %}
              <p>{{ block.settings.subheading }}</p>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>



<script>
  $(".gallery_slider").slick({
    dots: false,
    infinite: false,
    slidesToShow: 4,
    slidesToScroll: 1,
    arrows:false,
    prevArrow:"<button class='slick-prev slick-arrow' aria-label='Previous' type='button'><img src='https://cdn.shopify.com/s/files/1/0866/7664/files/chevron_right.png?v=1660762411'></button>",
    nextArrow:"<button class='slick-next slick-arrow' aria-label='Previous' type='button'><img src='https://cdn.shopify.com/s/files/1/0866/7664/files/chevron_right.png?v=1660762411'></button>",
    responsive:[
      {
            breakpoint: 1366,
            settings: {
                slidesToShow: 3
            }
        },
        {
            breakpoint: 1023,
            settings: {
                slidesToShow: 2
            }
        },
        {
            breakpoint: 767,
            settings: {
                slidesToShow: 1,
                arrows:false,
                centerMode:true,
                centerPadding:'40px'
            }
        }
    ]
  });
</script>



{% schema %}
  {
    "name": "Our Story Gallery",
    "settings": [],
    "blocks":[
      {
        "name":"Block",
        "type":"image",
        "settings":[
          {
            "type":"image_picker",
            "id":"image",
            "label":"Choose Image"
          },
          {
            "type":"image_picker",
            "id":"icon_image",
            "label":"Choose Icon Image"
          },
          {
            "type":"text",
            "id":"heading",
            "label":"Heading"
          },
          {
            "type":"textarea",
            "id":"subheading",
            "label":"Description"
          }
        ]
      }
    ],
    "presets":[
      {
        "name": "Our Story Gallery"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}