<!-- sections/macro-calculator.liquid -->
<section class="macro-calculator">
  <style>
    .macro-calculator { padding: 2rem; background: #fff; max-width: 900px; margin: auto; }
    input, select { width: 100%; padding: 0.75rem; margin: 0.5rem 0; border: 1px solid #ccc; border-radius: 8px; }
    button { padding: 1rem; background: #1B73B3; color: white; border: none; border-radius: 8px; cursor: pointer; }
    .result-box { margin-top: 1rem; background: #f8f9fa; padding: 1rem; border-radius: 8px; }
  </style>

  <h2>Macro Calculator</h2>

  <label>Sex</label>
  <select id="sex">
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>

  <label>Age</label>
  <input type="number" id="age" placeholder="30" />

  <label>Weight (kg)</label>
  <input type="number" id="weight" placeholder="75" />

  <label>Height (cm)</label>
  <input type="number" id="height" placeholder="180" />

  <label>Activity Level</label>
  <select id="activity">
    <option value="1.2">Sedentary</option>
    <option value="1.55">Moderate</option>
    <option value="1.75">Very Active</option>
  </select>

  <label>Goal</label>
  <select id="goal">
    <option value="maintain">Maintain</option>
    <option value="lose">Lose Fat</option>
    <option value="gain">Gain Muscle</option>
  </select>

  <label>Target Weight (kg)</label>
  <input type="number" id="targetWeight" />

  <label>Protein Intake (g/kg)</label>
  <input type="number" id="proteinPerKg" value="2.0" step="0.1" />

  <button onclick="calculateMacros()">Calculate</button>

  <div class="result-box" id="results">Results will appear here.</div>

  <script>
    function calculateMacros() {
      const sex = document.getElementById('sex').value;
      const age = parseInt(document.getElementById('age').value);
      const weight = parseFloat(document.getElementById('weight').value);
      const height = parseFloat(document.getElementById('height').value);
      const activity = parseFloat(document.getElementById('activity').value);
      const goal = document.getElementById('goal').value;
      const proteinPerKg = parseFloat(document.getElementById('proteinPerKg').value);
      const targetWeight = parseFloat(document.getElementById('targetWeight').value);

      let bmr = 10 * weight + 6.25 * height - 5 * age + (sex === "male" ? 5 : -161);
      let tdee = bmr * activity;

      let targetCalories = tdee;
      if (goal === "lose") targetCalories *= 0.8;
      if (goal === "gain") targetCalories *= 1.1;

      let protein = weight * proteinPerKg;
      let fat = weight * 1;
      let carbs = (targetCalories - (protein * 4 + fat * 9)) / 4;

      const results = `
        <strong>Target Calories:</strong> ${Math.round(targetCalories)} kcal<br>
        <strong>Protein:</strong> ${Math.round(protein)}g<br>
        <strong>Fat:</strong> ${Math.round(fat)}g<br>
        <strong>Carbs:</strong> ${Math.round(carbs)}g<br>
        <strong>BMR:</strong> ${Math.round(bmr)} kcal â€¢ <strong>TDEE:</strong> ${Math.round(tdee)} kcal<br>
        ${targetWeight ? `<strong>Target Weight:</strong> ${targetWeight} kg` : ""}
      `;

      document.getElementById("results").innerHTML = results;
    }
  </script>
</section>




