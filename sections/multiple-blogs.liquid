{{ 'multiple-blog-section.css' | asset_url | stylesheet_tag }}

{% style %}
  #section-{{section.id}} {
    --bg-color: {{section.settings.bg_color}};
    --text-color: {{section.settings.text_color}};
    --PT:{{section.settings.padding_top}}px;
    --PB:{{section.settings.padding_bottom}}px;
  }
  
{% endstyle %}
<div class="multiple-blog-section" id="section-{{ section.id }}" >
  <div class="container">
    <div class="multiple-blog-header">
      {% if section.settings.custom_title != blank %}
        <h2>{{ section.settings.custom_title }}</h2>  
      {% endif %}
      {% if section.settings.button_url != blank %}
        <a href="{{ section.settings.button_url }}" class="btn_link link" aria-label="Blog Item Button URL">
          <span>{{ section.settings.button_text }}</span>
          {% render 'right-arrow' %}
        </a>
      {% endif %}
    </div>
    <div class="multiple-blog-content"> 
      <div class="multiple-blog-slider swiper">
        <div class="swiper-wrapper">
          {% if template.name == 'collection' %}
            {% if collection.metafields.custom.blogs != blank %}
              {% for refer_article in collection.metafields.custom.blogs.value %}          
                {% assign article_one_handle = refer_article %}
                {% assign article = articles[article_one_handle] %}
                 <div class="multiple-blog-item swiper-slide">
                  {% render 'article-item', 
                    article: article
                  %}
                 </div>
              {% endfor %}
            {% else %}
              {% for block in section.blocks %}
                <div class="multiple-blog-item swiper-slide">
                  {% render 'article-item', article: block.settings.select_blog %}
                </div>
              {% endfor %}              
            {% endif %}
          {% else %}
            {% for block in section.blocks %}
              <div class="multiple-blog-item swiper-slide">
                {% render 'article-item', article: block.settings.select_blog %}
              </div>
            {% endfor %}
          {% endif %}

        </div>
        <div class="multiple-blog-slider-bottom">
          <div class="multiple-blog-pagination"></div>
          <!-- Fractional Pagination (Slide Counter) -->
          <div class="multiple-blog-fraction slider-counter-fraction"></div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Multiple Blog",
    "settings": [
      {
        "type": "text",
        "id": "custom_title",
        "label": "Title"
      },
      {
        "type": "text",
        "id": "button_text",
        "label": "Button Text",
        "default":"View All"
      },
      {
        "type": "url",
        "id": "button_url",
        "label": "Button Link"
      },
      {
        "type": "header",
        "content": "Colors"
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#111314"
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color",
        "default": "#ffffff"
      },
      {
       "type": "header",
        "content": "section padding"
      },
      {
        "type": "range",
        "id": "padding_top",
        "label": "Padding top",
        "min": 0,
        "max": 120,
        "step": 2,
        "unit": "px",
        "default": 80
      },
      {
       "type": "range",
        "id": "padding_bottom",
        "label": "Paading bottom",
        "min": 0,
        "max": 120,
        "step": 2,
        "unit": "px",
        "default": 80
      }
    ],
    "blocks": [
      {
        "type": "block",
        "name": "Add Blog",
        "settings": [
          {
            "type": "article",
            "id": "select_blog",
            "label": "Add Blog"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Multiple Blog"
      }
    ]
  }
{% endschema %}