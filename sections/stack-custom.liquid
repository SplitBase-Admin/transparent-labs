<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css">

<div class="xgen-stack-custom">
  <div class="xgen-inner">
    
    <div class="stack-custom-wraper">
      <div class="stack-custom-top">
        
        {% if section.settings.heading %}
          <h2>{{ section.settings.heading }}</h2>
        {% endif %}
        
        {% if section.settings.subheading %}
          <p>{{ section.settings.subheading }}</p>
        {% endif %}
        
        {% if section.settings.btn_text %}
          <a href="{{ section.settings.btn_url }}" class="btn">{{ section.settings.btn_text }}</a>
        {% endif %}
        
      </div>
  
  	  <div class="stack-custom-bottom">
  		<div class="scustom slider">
      
       	{% for block in section.blocks %}	
          {% assign product = all_products[block.settings.product] %}
          <a href="{{ product.url }}">
          <div class="items">
            <div class="itemswrap">
                
              <div class="itimg">
                  <img src="{{product.featured_image | img_url : 'master'}}" alt="{{ product.featured_image.alt }}" loading="lazy">
              
              </div>
              <div class="stack-text">
                <div class="ctag"> {{block.settings.subtitle}}</div>
                <h2>{{product.title}}</h2>
                <p>{{block.settings.summary}}</p>


              </div>
            </div>
          </div>
          </a>
			{% endfor %}
    	</div>
      </div>
  
    </div>
  
  </div>
  
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
{% schema %}
  {
    "name": "Stack Custom",
    "settings": [
		
			{
              	"type":"text",
              	"id":"heading",
              	"label":"Heading"
			},
			{
              	"type":"textarea",
              	"id":"subheading",
              	"label":"Sub Heading"
			},
			{
              	"type":"text",
              	"id":"btn_text",
              	"label":"Button Text"
			},
			{
              	"type":"url",
              	"id":"btn_url",
              	"label":"Button URL"
			}
		
	],
	"blocks":[
		{
			"name":"product",
			"type":"text",
			"settings":[
				{
                    "type":"product",
                    "id":"product",
                    "label":"Select product"
                },{
                    "type":"text",
                    "id":"subtitle",
                    "label":"Small Text"
                },
                {
                    "type":"textarea",
                    "id":"summary",
                    "label":"Large Text"
                }

			]
		}
	],
	"presets":[
		{
			"name": "Stack Custom"
		}
	]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
$(".scustom").slick({
  dots: false,
  infinite: true,
  slidesToShow: 4,
  slidesToScroll: 1,
  arrows:true,
  responsive: [
    {
      breakpoint: 1366,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 1
      }
    },
	{
      breakpoint: 1024,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 1
      }
    },
    {
      breakpoint: 767,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
});
{% endjavascript %}
