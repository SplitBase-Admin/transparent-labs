<div class="tl_farm_video">
  <div class="wraper">
    {% if section.settings.video_url!=blank %}
      <video id="video_b" poster="{{ section.settings.poster | img_url : '' }}" controls controlsList="nodownload">
        <source src="{{ section.settings.video_url }}" type="video/mp4">
        <source src="{{ section.settings.video_url }}" type="video/ogg">
        Your browser does not support the video tag.
      </video>
      <div id="pbtn" class="pbtn" onclick="playVid()">
        <svg width="120" height="120" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="50" cy="50" r="45" fill="white" fill-opacity="0.4"/>
          <path fill-rule="evenodd" clip-rule="evenodd" d="M68.7948 50.0253L37 71.3747V29L68.7948 50.0253Z" fill="white"/>
          <rect x="2.5" y="2.5" width="95" height="95" rx="47.5" stroke="white" stroke-opacity="0.8" stroke-width="5"/>
        </svg>
      </div>
    {% endif %}
  </div>
</div>



<script> 
  let vid = document.getElementById("video_b");
  let btn = document.getElementById("pbtn");

  vid.addEventListener('play', function() {
    btn.style.display = 'none';
  });

  // document.getElementById("myButton").onclick = function() {
  //     this.classList.add("highlight");
  //   };
  
  function playVid() { 
    vid.play(); 
    btn.classList.add("hide");
  } 
  
  // function pauseVid() { 
  //   vid.pause(); 
  // } 
</script>
            


            
{% schema %}
  {
    "name": "Farm Shaker Video",
    "class": "td-legacy",
    "settings": [
      {
        "type":"image_picker",
        "id":"poster",
        "label":"Video Cover Image"
      },
      {
        "type":"url",
        "id":"video_url",
        "label":"Video URL"
      }
    ],
    "presets":[
      {
        "name":"Farm Shaker Video"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %} 