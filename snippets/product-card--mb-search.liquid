{%- stylesheet -%}
  /* Mobile Search Product Card Styles */
  .td-mb-search-product-card {
    --sb-ch-bg-color: #fff;
    display: flex;
    gap: 14px;
    background: var(--sb-ch-bg-color, var(--sb-bg-color, #fff));
    border-radius: 6px;
    text-decoration: none;
    color: inherit;
    transition: background 0.2s ease;
    height: 100%;
  }
  .td-mb-search-product-card__image-wrapper {
    flex-shrink: 0;
    width: 64px;
    height: 64px;
    aspect-ratio: 1 / 1;
    position: relative;
    overflow: hidden;
    border-radius: 4px;
    background-color: #F8F9FB;
    border-radius: 4px;
  }
  .td-mb-search-product-card__image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    display: block;
  }

  .td-mb-search-product-card__content {
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex: 1;
    min-width: 0;
  }

  .td-mb-search-product-card__title {
    font-size: calc(16 / var(--sb-base-font-size, 16) * 1rem);
    font-weight: 500;
    letter-spacing: 0;
    font-family: var(--sb-font-family-body);
    line-height: 1.4;
    margin: 0;
    color: var(--sb-ch-fg-color, var(--sb-fg-color, #111314));
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 10px;
  }

  .td-mb-search-product-card__rating {
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .td-mb-search-product-card .jdgm-widget {
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .td-mb-search-product-card .jdgm-star.jdgm--on:before,
  .td-mb-search-product-card .jdgm-star.jdgm--half:before,
  .td-mb-search-product-card .jdgm-star.jdgm--off:before {
    font-size: 15px;
  }

  .td-mb-search-product-card .jdgm-star {
    padding-right: 1px !important;
  }

  .td-mb-search-product-card .jdgm-rating-count,
  .td-mb-search-product-card .jdgm-prev-badge__text {
    font-size: 14px;
    font-weight: 400;
    font-family: var(--sb-font-family-body);
    color: var(--sb-ch-fg-color, var(--sb-fg-color, #111314));
    opacity: 0.6;
    line-height: 1.3;
  }

  .td-mb-search-product-card .jdgm-star.jdgm-star {
    color: #1B73B3;
  }

  .td-mb-search-product-card__description {
    font-size: 14px;
    font-weight: 400;
    padding: 2px 0;
    letter-spacing: 0;
    font-family: var(--sb-font-family-body);
    line-height: 1.4;
    margin: 0;
    color: var(--sb-ch-fg-color, var(--sb-fg-color, #111314));
    opacity: 0.72;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .td-mb-search-product-card__footer {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
    padding-top: 4px;
    margin-top: auto;
  }

  .td-mb-search-product-card__price {
    font-size: calc(16 / var(--sb-base-font-size, 16) * 1rem);
    font-weight: 500;
    font-family: var(--sb-font-family-body);
    color: var(--sb-ch-fg-color, var(--sb-fg-color, #111314));
    white-space: nowrap;
  }

  .td-mb-search-product-card__cta {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: calc(14 / var(--sb-base-font-size, 16) * 1rem);
    font-weight: 500;
    font-family: var(--sb-font-family-body);
    color: var(--sb-ch-fg-color, var(--sb-fg-color, #111314));
    text-decoration: none;
    white-space: nowrap;
    transition: all 0.3s ease;
  }
  .product-card--mb-search__cta-text{
    border-bottom: 1px solid var(--sb-ch-fg-color, var(--sb-fg-color, #111314));
    letter-spacing: 0;
    font-size: 16px;
  }

  .td-mb-search-product-card__cta-arrow {
    flex-shrink: 0;
    transition: transform 0.3s ease;
    display: flex;
    align-items: center;
  }

  .td-mb-search-product-card:hover .td-mb-search-product-card__cta-arrow {
    transform: translateX(2px);
  }

  .product-card--mb-search__cta-text--sold-out {
    border: transparent;
  }

  @media screen and (min-width: 750px) {
    .td-mb-search-product-card__image-wrapper {
      width: 100px;
      height: 100px;
    }

    .td-mb-search-product-card__title {
      font-size: calc(20 / var(--sb-base-font-size, 16) * 1rem);
    }

    .td-mb-search-product-card__description {
      font-size: calc(16 / var(--sb-base-font-size, 16) * 1rem);
      padding: 0;
    }
  }
{%- endstylesheet -%}

{% comment %} Mobile Search Product Card - Horizontal layout optimized for search results {% endcomment %}
<a href="{{ product.url }}" class="td-mb-search-product-card">
  <div class="td-mb-search-product-card__image-wrapper">
    {{ product.featured_image | image_url: width: 200 | image_tag: 
      class: 'td-mb-search-product-card__image',
      alt: product.title,
      loading: 'lazy'
    }}
  </div>

  <div class="td-mb-search-product-card__content">
    <h3 class="td-mb-search-product-card__title">
      {{ product.title }}
      <span class="td-mb-search-product-card__price">
        {{ product.selected_or_first_available_variant.price | money }}
      </span>
    </h3>

    <div class="td-mb-search-product-card__rating">
      <div class='jdgm-widget jdgm-preview-badge' data-id='{{ product.id }}'> 
        {{ product.metafields.judgeme.badge }} <span class="jdgm-rating-count"></span>
      </div>
    </div>

    {% if product.metafields.custom.short_description %}
      <p class="td-mb-search-product-card__description">
        {{ product.metafields.custom.short_description }}
      </p>
    {% endif %}

    <div class="td-mb-search-product-card__footer">    
      <span class="td-mb-search-product-card__cta">
        {% if product.available %}
          <span class='product-card--mb-search__cta-text'>Shop {% render 'sb-option-text', product: product %}</span>
          <span class="td-mb-search-product-card__cta-arrow">
            {% render 'sb-icon--right-arrow' %}
          </span>
        {% else %}
          <span class='product-card--mb-search__cta-text product-card--mb-search__cta-text--sold-out'>Sold Out</span>
        {% endif %}
      </span>
    </div>
  </div>
</a>
